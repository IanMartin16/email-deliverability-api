{"openapi":"3.1.0","info":{"title":"Email Deliverability Checker API","description":"\n    ## Email Deliverability Checker API\n    \n    Comprehensive email validation service with:\n    \n    * **Syntax Validation** - RFC-compliant email format checking\n    * **MX Records** - Domain mail server verification\n    * **Disposable Detection** - Temporary email provider identification\n    * **SMTP Verification** - Mailbox existence validation (optional)\n    * **Deliverability Score** - 0-100 score indicating email quality\n    \n    ### Rate Limits (RapidAPI)\n    \n    - **Free Plan**: 100 validations/month\n    - **Basic Plan** ($19/mo): 5,000 validations/month\n    - **Pro Plan** ($49/mo): 50,000 validations/month\n    \n    ### Quick Start\n    \n    1. Get your API key from RapidAPI\n    2. Make a POST request to `/api/v1/validate`\n    3. Receive comprehensive validation results\n    \n    ### Performance\n    \n    - **Standard validation**: ~100-300ms per email\n    - **With SMTP check**: ~1-3s per email\n    - **Bulk validation**: Optimized for batch processing\n    ","version":"1.0.0"},"paths":{"/api/v1/health":{"get":{"tags":["Email Validation"],"summary":"Health Check","description":"Health check endpoint","operationId":"health_check_api_v1_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HealthResponse"}}}}}}},"/api/v1/validate":{"post":{"tags":["Email Validation"],"summary":"Validate Email","description":"Validate a single email address\n\nThis endpoint performs comprehensive email validation including:\n- Syntax validation\n- MX record verification\n- Disposable email detection\n- Optional SMTP mailbox verification\n\n**Authentication:** Optional (works without API key for testing)\n**Rate Limiting:** Applied if authenticated\n\nReturns a deliverability score from 0-100.","operationId":"validate_email_api_v1_validate_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmailValidationRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmailValidationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OptionalApiKeyAuth":[]}]}},"/api/v1/validate/bulk":{"post":{"tags":["Email Validation"],"summary":"Validate Bulk","description":"Validate multiple email addresses\n\n**Limitations:**\n- Maximum 100 emails per request\n- SMTP checks disabled by default for performance\n\n**Use cases:**\n- Batch email list cleaning\n- Import validation\n- Database cleanup","operationId":"validate_bulk_api_v1_validate_bulk_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BulkValidationRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BulkValidationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/stats":{"get":{"tags":["Email Validation"],"summary":"Get Stats","description":"Get API statistics and usage information\n\nTODO: Implement after database setup","operationId":"get_stats_api_v1_stats_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/auth/users":{"post":{"tags":["Authentication","Authentication"],"summary":"Create User","description":"Crear un nuevo usuario\n\nPara desarrollo/testing. En producción, esto estaría protegido\no se haría mediante un flujo de registro más complejo.","operationId":"create_user_api_v1_auth_users_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/users/me":{"get":{"tags":["Authentication","Authentication"],"summary":"Get Current User Info","description":"Obtener información del usuario actual autenticado","operationId":"get_current_user_info_api_v1_auth_users_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}}},"security":[{"ApiKeyAuth":[]}]}},"/api/v1/auth/keys":{"get":{"tags":["Authentication","Authentication"],"summary":"List Api Keys","description":"Listar todas las API keys del usuario actual\n\nLas keys se muestran parcialmente por seguridad (ev_live_xxx...xxx)","operationId":"list_api_keys_api_v1_auth_keys_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/ApiKeyListResponse"},"type":"array","title":"Response List Api Keys Api V1 Auth Keys Get"}}}}},"security":[{"ApiKeyAuth":[]}]},"post":{"tags":["Authentication","Authentication"],"summary":"Create Api Key","description":"Crear una nueva API key para el usuario actual\n\n**IMPORTANTE:** La key completa solo se muestra una vez.\nGuárdala en un lugar seguro.","operationId":"create_api_key_api_v1_auth_keys_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiKeyCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiKeyResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"ApiKeyAuth":[]}]}},"/api/v1/auth/keys/{key_id}":{"delete":{"tags":["Authentication","Authentication"],"summary":"Revoke Api Key","description":"Revocar (desactivar) una API key\n\nLa key dejará de funcionar inmediatamente.","operationId":"revoke_api_key_api_v1_auth_keys__key_id__delete","security":[{"ApiKeyAuth":[]}],"parameters":[{"name":"key_id","in":"path","required":true,"schema":{"type":"integer","title":"Key Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/keys/current":{"get":{"tags":["Authentication","Authentication"],"summary":"Get Current Key Info","description":"Obtener información sobre la API key actual en uso","operationId":"get_current_key_info_api_v1_auth_keys_current_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiKeyListResponse"}}}}},"security":[{"ApiKeyAuth":[]}]}},"/api/v1/auth/quota":{"get":{"tags":["Authentication","Authentication"],"summary":"Get Quota Info","description":"Obtener información de cuota y límites del usuario actual","operationId":"get_quota_info_api_v1_auth_quota_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/QuotaResponse"}}}}},"security":[{"ApiKeyAuth":[]}]}},"/api/v1/auth/quota/reset":{"post":{"tags":["Authentication","Authentication"],"summary":"Reset Quota","description":"Resetear manualmente la cuota del usuario\n\nSolo para desarrollo/testing. En producción esto sería\nun endpoint de admin o se haría automáticamente cada mes.","operationId":"reset_quota_api_v1_auth_quota_reset_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"ApiKeyAuth":[]}]}},"/api/v1/auth/usage/stats":{"get":{"tags":["Authentication","Authentication"],"summary":"Get Usage Statistics","description":"Obtener estadísticas de uso del usuario\n\nQuery params:\n- days: Número de días hacia atrás (default: 30)","operationId":"get_usage_statistics_api_v1_auth_usage_stats_get","security":[{"ApiKeyAuth":[]}],"parameters":[{"name":"days","in":"query","required":false,"schema":{"type":"integer","default":30,"title":"Days"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/":{"get":{"summary":"Root","description":"Root endpoint with API information","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"ApiKeyCreate":{"properties":{"name":{"type":"string","maxLength":100,"title":"Name","default":"Default Key"},"expires_days":{"anyOf":[{"type":"integer","maximum":365.0,"minimum":1.0},{"type":"null"}],"title":"Expires Days"}},"type":"object","title":"ApiKeyCreate"},"ApiKeyListResponse":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","title":"Name"},"key_preview":{"type":"string","title":"Key Preview"},"is_active":{"type":"boolean","title":"Is Active"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"expires_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Expires At"},"last_used_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Used At"},"total_requests":{"type":"integer","title":"Total Requests"}},"type":"object","required":["id","name","key_preview","is_active","created_at","total_requests"],"title":"ApiKeyListResponse"},"ApiKeyResponse":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","title":"Name"},"key":{"type":"string","title":"Key"},"is_active":{"type":"boolean","title":"Is Active"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"expires_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Expires At"},"last_used_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Used At"},"total_requests":{"type":"integer","title":"Total Requests"}},"type":"object","required":["id","name","key","is_active","created_at","total_requests"],"title":"ApiKeyResponse"},"BulkValidationRequest":{"properties":{"emails":{"items":{"type":"string","format":"email"},"type":"array","maxItems":100,"title":"Emails","description":"List of emails to validate (max 100)"},"check_smtp":{"type":"boolean","title":"Check Smtp","description":"Perform SMTP checks (slower)","default":false}},"type":"object","required":["emails"],"title":"BulkValidationRequest","example":{"check_smtp":false,"emails":["user1@example.com","user2@example.com"]}},"BulkValidationResponse":{"properties":{"total_checked":{"type":"integer","title":"Total Checked"},"results":{"items":{"$ref":"#/components/schemas/EmailValidationResponse"},"type":"array","title":"Results"},"processing_time_ms":{"type":"number","title":"Processing Time Ms"}},"type":"object","required":["total_checked","results","processing_time_ms"],"title":"BulkValidationResponse","example":{"processing_time_ms":2500.0,"results":[],"total_checked":2}},"EmailValidationRequest":{"properties":{"email":{"type":"string","format":"email","title":"Email","description":"Email address to validate"},"check_smtp":{"type":"boolean","title":"Check Smtp","description":"Perform SMTP mailbox verification","default":true}},"type":"object","required":["email"],"title":"EmailValidationRequest","example":{"check_smtp":true,"email":"user@example.com"}},"EmailValidationResponse":{"properties":{"email":{"type":"string","title":"Email"},"is_valid":{"type":"boolean","title":"Is Valid"},"syntax_valid":{"type":"boolean","title":"Syntax Valid"},"domain":{"type":"string","title":"Domain"},"has_mx_records":{"type":"boolean","title":"Has Mx Records"},"mx_records":{"anyOf":[{"items":{"$ref":"#/components/schemas/MXRecord"},"type":"array"},{"type":"null"}],"title":"Mx Records"},"is_disposable":{"type":"boolean","title":"Is Disposable"},"smtp_check_performed":{"type":"boolean","title":"Smtp Check Performed","default":false},"mailbox_exists":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Mailbox Exists"},"smtp_response":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Smtp Response"},"is_catch_all":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Catch All"},"deliverability_score":{"type":"number","maximum":100.0,"minimum":0.0,"title":"Deliverability Score","description":"Overall deliverability score (0-100)"},"checked_at":{"type":"string","format":"date-time","title":"Checked At"},"processing_time_ms":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Processing Time Ms"}},"type":"object","required":["email","is_valid","syntax_valid","domain","has_mx_records","is_disposable","deliverability_score"],"title":"EmailValidationResponse","example":{"checked_at":"2024-02-12T10:30:00Z","deliverability_score":95.0,"domain":"example.com","email":"user@example.com","has_mx_records":true,"is_disposable":false,"is_valid":true,"mailbox_exists":true,"mx_records":[{"host":"mail.example.com","priority":10}],"processing_time_ms":1234.56,"smtp_check_performed":true,"smtp_response":"250 OK","syntax_valid":true}},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"HealthResponse":{"properties":{"status":{"type":"string","title":"Status"},"version":{"type":"string","title":"Version"},"timestamp":{"type":"string","format":"date-time","title":"Timestamp"}},"type":"object","required":["status","version"],"title":"HealthResponse"},"MXRecord":{"properties":{"host":{"type":"string","title":"Host"},"priority":{"type":"integer","title":"Priority"}},"type":"object","required":["host","priority"],"title":"MXRecord"},"QuotaResponse":{"properties":{"user_id":{"type":"integer","title":"User Id"},"plan":{"type":"string","title":"Plan"},"quota_limit":{"type":"integer","title":"Quota Limit"},"quota_used":{"type":"integer","title":"Quota Used"},"quota_remaining":{"type":"integer","title":"Quota Remaining"},"percentage_used":{"type":"number","title":"Percentage Used"},"reset_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Reset At"}},"type":"object","required":["user_id","plan","quota_limit","quota_used","quota_remaining","percentage_used","reset_at"],"title":"QuotaResponse"},"UserCreate":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"username":{"type":"string","maxLength":50,"minLength":3,"title":"Username"},"plan":{"type":"string","pattern":"^(free|basic|pro)$","title":"Plan","default":"free"}},"type":"object","required":["email","username"],"title":"UserCreate"},"UserResponse":{"properties":{"id":{"type":"integer","title":"Id"},"email":{"type":"string","title":"Email"},"username":{"type":"string","title":"Username"},"plan":{"type":"string","title":"Plan"},"monthly_quota":{"type":"integer","title":"Monthly Quota"},"validations_used":{"type":"integer","title":"Validations Used"},"is_active":{"type":"boolean","title":"Is Active"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","email","username","plan","monthly_quota","validations_used","is_active","created_at"],"title":"UserResponse"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"OptionalApiKeyAuth":{"type":"http","scheme":"bearer"},"ApiKeyAuth":{"type":"http","scheme":"bearer"}}}}